define(function(){function e(e){var i=this.os={},a=this.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),t=e.match(/(Android|Adr);?[\s\/]+([\d.]+)?/),r=e.match(/(iPad).*OS\s([\d_]+)/),c=e.match(/(iPod)(.*OS\s([\d_]+))?/),s=!r&&e.match(/(iPhone\sOS)\s([\d_]+)/),h=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),n=h&&e.match(/TouchPad/),d=e.match(/Kindle\/([\d.]+)/),m=e.match(/Silk\/([\d._]+)/),l=e.match(/(BlackBerry).*Version\/([\d.]+)/),b=e.match(/(BB10).*Version\/([\d.]+)/),v=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),p=e.match(/PlayBook/),S=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),u=e.match(/Firefox\/([\d.]+)/),k=e.match(/MSIE ([\d.]+)/),f=o&&e.match(/Mobile\//)&&!S,P=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!S,k=e.match(/MSIE\s([\d.]+)/);return(a.webkit=!!o)&&(a.version=o[1]),t&&(i.android=!0,i.version=t[2]),s&&!c&&(i.ios=i.iphone=!0,i.version=s[2].replace(/_/g,".")),r&&(i.ios=i.ipad=!0,i.version=r[2].replace(/_/g,".")),c&&(i.ios=i.ipod=!0,i.version=c[3]?c[3].replace(/_/g,"."):null),h&&(i.webos=!0,i.version=h[2]),n&&(i.touchpad=!0),l&&(i.blackberry=!0,i.version=l[2]),b&&(i.bb10=!0,i.version=b[2]),v&&(i.rimtabletos=!0,i.version=v[2]),p&&(a.playbook=!0),d&&(i.kindle=!0,i.version=d[1]),m&&(a.silk=!0,a.version=m[1]),!m&&i.android&&e.match(/Kindle Fire/)&&(a.silk=!0),S&&(a.chrome=!0,a.version=S[1]),u&&(a.firefox=!0,a.version=u[1]),k&&(a.ie=!0,a.version=k[1]),f&&(e.match(/Safari/)||i.ios)&&(a.safari=!0),P&&(a.webview=!0),k&&(a.ie=!0,a.version=k[1]),i.tablet=!!(r||p||t&&!e.match(/Mobile/)||u&&e.match(/Tablet/)||k&&!e.match(/Phone/)&&e.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(t||s||h||l||b||S&&e.match(/Android/)||S&&e.match(/CriOS\/([\d.]+)/)||u&&e.match(/Mobile/)||k&&e.match(/Touch/))),{browser:a,os:i,canvasSupported:document.createElement("canvas").getContext?!0:!1}}return e(navigator.userAgent)});